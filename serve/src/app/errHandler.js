const httpExceptionCode = {
  200: 200, // 请求成功并返回数据
  201: 201, // 请求成功并创建了资源
  202: 202, // 请求已接收，但未立即处理完成
  204: 204, // 请求成功，但无返回内容
  400: 400, // 请求参数有误（缺少必填字段 / 参数格式错误 / 无法解析的 JSON 等）
  401: 401, // 未认证或认证失败（缺少 token / token 过期 / token 无效）
  403: 403, // 已认证，但权限不足（没有访问该资源的权限）
  404: 404, // 资源不存在（接口路径错误 / 请求的资源被删除）
  405: 405, // 请求方法不被允许（比如用 POST 请求了一个只支持 GET 的接口）
  408: 408, // 客户端请求超时，服务器在规定时间内没收到完整请求
  413: 413, // 请求体太大（比如文件上传超出服务器限制）
  429: 429, // 请求过于频繁（触发了限流/防刷）
  500: 500, // 服务器内部错误（未捕获异常、代码 bug、数据库错误等）
  502: 502, // 网关错误（通常是 Nginx/反向代理连接后端失败）
  503: 503, // 服务器暂时不可用（超载 / 维护 / 停机）
  504: 504, // 网关超时（反向代理等待后端响应超时）
  505: 505, // 服务器不支持请求中使用的 HTTP 协议版本
};
module.exports = (err, ctx) => {
  let status = 500;
  if (err.code && httpExceptionCode[err.code]) status = httpExceptionCode[err.code];
  ctx.status = status;
  ctx.body = err;
};
